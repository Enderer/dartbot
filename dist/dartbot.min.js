/**
 * dartbot v1.1.1
 * Date: 02/01/2014
 * Website: http://www.dartbot.com
 */
var Board=function(){"use strict";function a(){}return a.Radius=225,a.Rings=[6.35,16,99,107,162,170],a.Sectors=[20,5,12,9,14,11,8,16,7,19,3,17,2,15,10,6,13,4,18,1],a.SectorWidth=2*Math.PI/a.Sectors.length,a.RadiansToDegrees=function(a){return a*(180/Math.PI)},a.GetSectorValue=function(b){return a.Sectors[b]},a.GetSectorIndex=function(b){for(var c=0;c<a.Sectors.length;c++)if(a.Sectors[c]===b)return c;throw"No sector on the board has this value "+b},a.GetHit=function(b){var c=2*Math.PI,d=Math.PI/2-a.SectorWidth/2,e=b.Angle-d;Math.abs(e)>c&&(e%=c),0>e&&(e=c+e);for(var f=Math.floor(e/a.SectorWidth),g=RingType.OOB,h=0;h<a.Rings.length;h++)if(a.Rings[h]>b.Radius){g=h;break}return new Hit(f,g,b)},a.GetTargetPoint=function(b,c){var d=a.SectorWidth*b,e=d+a.SectorWidth/2,f=Math.PI/2-Math.PI/a.Sectors.length;e+=f;var g=a.GetRingCenter(c);return new PolarPoint(g,e)},a.GetRingCenter=function(b){if(b===RingType.DoubleBull||b===RingType.SingleBull)return 0;if(b===RingType.OOB)return a.Rings[a.Rings.length-1]+5;var c=a.Rings[b],d=a.Rings[b-1];return(c-d)/2+d},a.GetHitPoints=function(b){var c=a.GetSectorValue(b.SectorIndex),d=a.GetRingMultiple(b.Ring),e=RingType.ThinSingle,f=RingType.FatSingle;if(b.Ring===RingType.OOB)d=0;else if(b.Ring===RingType.Double)d=2;else if(b.Ring===RingType.Treble)d=3;else if(b.Ring===RingType.SingleBull)d=1;else if(b.Ring===RingType.DoubleBull)d=2;else{if(b.Ring!==e&&b.Ring!==f)throw"Invalid Segment Type";d=1}return b.Ring===RingType.SingleBull?25:b.Ring===RingType.DoubleBull?50:c*d},a.GetRingMultiple=function(a){var b=1;if(a===RingType.OOB)b=0;else if(a===RingType.Double)b=2;else if(a===RingType.Treble)b=3;else if(a===RingType.SingleBull)b=1;else if(a===RingType.DoubleBull)b=2;else{if(a!==RingType.FatSingle&&a!==RingType.ThinSingle)throw"Invalid Segment Type";b=1}return b},a}(),RingType={DoubleBull:0,SingleBull:1,ThinSingle:2,Treble:3,FatSingle:4,Double:5,OOB:6},CricketBot=function(){"use strict";function a(a,b,c){this.Mean=a,this.Stdev=b,this.Name=c}return a.Players=[{name:"User Player"},{name:"Level 1",mean:5,stdev:4},{name:"Level 2",mean:11,stdev:12},{name:"Level 3",mean:12,stdev:17},{name:"Level 4",mean:18,stdev:20},{name:"Level 5",mean:23,stdev:20},{name:"Level 6",mean:32,stdev:20},{name:"Level 7",mean:35,stdev:20}],a.prototype.TakeTurn=function(b){var c=2*X01Bot.Delay,d=this;c>0?setTimeout(function(){return function(){a.TakeThrows(d,b,3)}}(),c):a.TakeThrows(this,b,3)},a.TakeThrows=function(b,c,d){var e=b.AcquireTarget(c,d),f=b.AttemptThrow(e),g=Board.GetSectorValue(f.SectorIndex),h=Board.GetRingMultiple(f.Ring);(f.Ring===RingType.DoubleBull||f.Ring===RingType.SingleBull)&&(g=25);var i=[];if(i[g]=h,c.ApplyTurn(b,i,1),--d,0>=d||c.CheckForWin(b)===!0)c.EndTurn(b);else{var j=X01Bot.Delay;j>0?setTimeout(function(){a.TakeThrows(b,c,d)},j):a.TakeThrows(b,c,d)}},a.prototype.AttemptThrow=function(a){var b=Board.GetTargetPoint(a.SectorIndex,a.Ring),c=Random.GetUniform()*Math.PI*2,d=Random.GetNormal(this.Mean,this.Stdev),e=new PolarPoint(d,c),f=PolarPoint.AddPoints(b,e),g=Board.GetHit(f);return g},a.prototype.AcquireTarget=function(a,b){for(var c,d=a.GetOpponent(this),e=a.GetScore(this),f=a.GetScore(d),g=e.GetMarks(),h=f.GetMarks(),i=[],j=[],k=[],l=0;l<a.Marks.length;l++){var m=a.Marks[l],n=g[m],o=h[m];3>n&&o>=3&&i.push(m),n>=3&&3>o&&j.push(m),3>n&&3>o&&k.push(m)}var p=e.GetPoints(),q=f.GetPoints(),r=p>=f.GetPoints(),s=i.length>0,t=j.length>0,u=b>=i.length;if(r&&s&&(u||p-q>=100))c=i[0];else if(!r&&t)c=j[0];else if(r&&t&&s&&!u)c=j[0];else{if(!(k.length>0))throw"Failed to acquire target";c=k[0]}return 25===c?new Hit(0,RingType.DoubleBull):new Hit(Board.GetSectorIndex(c),RingType.Treble)},a}(),CricketGame=function(){"use strict";function a(b,c,d){this.Marks=d||a.Marks,this.Score1=new CricketScore(this.Marks),this.Score2=new CricketScore(this.Marks),this.Player1=b,this.Player2=c,this.PlayerToMove=1,this.GameUpdated=function(){},this.GameOver=function(){},this.IsWon=!1,this.Winner=null}return a.Marks=[20,19,18,17,16,15,25],a.prototype.Start=function(){this.GameUpdated(this),this.Player1.TakeTurn(this)},a.prototype.EndTurn=function(a){var b=this.GetScore(a);b.EndTurn();var c=this.GetPlayerNum(a),d=this.GetOpponent(a),e=this.GetPlayerNum(d);if(this.CheckForWin(a)===!0&&(this.IsWon=!0,this.Winner=c,this.GameOver()),this.GameUpdated(this),this.IsWon!==!0&&c===this.PlayerToMove){this.PlayerToMove=e,this.GameUpdated(this);var f=1===this.PlayerToMove?this.Player1:this.Player2;f.TakeTurn(this)}},a.prototype.CheckForWin=function(a){var b=this.GetScore(a),c=this.GetOpponent(a),d=this.GetScore(c),e=b.GetPoints(),f=d.GetPoints();return e>=f&&b.IsClosed()&&!this.IsWon},a.prototype.GetScore=function(a){var b=this.GetPlayerNum(a);if(1===b)return this.Score1;if(2===b)return this.Score2;throw"Invalid Player"},a.prototype.GetOpponent=function(a){var b=this.GetPlayerNum(a);if(1===b)return this.Player2;if(2===b)return this.Player1;throw"Invalid player"},a.prototype.GetPlayerNum=function(a){if(a===this.Player1)return 1;if(a===this.Player2)return 2;throw"Invalid Player"},a.prototype.ApplyMark=function(a,b,c,d){var e=[];e[b]=c,this.ApplyTurn(a,e,d)},a.prototype.ApplyTurn=function(a,b,c){var d=this.GetScore(a),e=this.GetOpponent(a),f=this.GetScore(e),g=d.GetMarks(),h=f.GetMarks();for(var i in b)if(h[i]>=3){var j=Math.max(0,3-g[i]);b[i]=Math.min(b[i],j)}d.ApplyTurn(b,c),this.GameUpdated(this)},a.prototype.CancelTurn=function(a){var b=this.GetScore(a);b.CancelTurn();var c=this.GetPlayerNum(a);this.IsWon&&this.Winner===c&&(this.IsWon=!1,this.Winner=null,this.CheckForWin(a)&&(this.IsWon=!0,this.Winner=c)),this.GameUpdated(this)},a.prototype.SetDartsLastTurn=function(a,b){var c=this.GetScore(a),d=c.GetLastTurn();d.Darts=b,this.GameUpdated(this)},a}(),CricketScore=function(){"use strict";function a(a){this.TurnStack=[],this.IsTurnStarted=!1,this.Marks=a,this.BlankMarks=[];for(var b in this.Marks)this.BlankMarks[this.Marks[b]]=0}return a.prototype.ApplyTurn=function(a,b){this.IsTurnStarted===!1&&(this.TurnStack.push({Marks:[],Darts:0}),this.IsTurnStarted=!0);var c=this.TurnStack[this.TurnStack.length-1];c.Darts+=b;for(var d in a)void 0!==this.BlankMarks[d]&&(void 0===c.Marks[d]&&(c.Marks[d]=0),c.Marks[d]+=a[d])},a.prototype.EndTurn=function(){this.IsTurnStarted=!1},a.prototype.CancelTurn=function(){this.TurnStack.pop(),this.IsTurnStarted=!1},a.prototype.GetMarks=function(){var a=this.BlankMarks.slice();for(var b in this.TurnStack)for(var c in this.TurnStack[b].Marks)a[c]+=this.TurnStack[b].Marks[c];return a},a.prototype.GetPoints=function(){var a=0,b=this.GetMarks();for(var c in b)a+=c*Math.max(b[c]-3,0);return a},a.prototype.NumberOfDarts=function(){var a=0;for(var b in this.TurnStack)a+=this.TurnStack[b].Darts;return a},a.prototype.NumberOfMarks=function(){var a=0;for(var b in this.TurnStack)for(var c in this.TurnStack[b].Marks)a+=this.TurnStack[b].Marks[c];return a},a.prototype.MarksPerRound=function(){var a=this.NumberOfDarts(),b=this.NumberOfMarks();return 0>=a?0:b/a*3},a.prototype.IsClosed=function(){var a=this.GetMarks();for(var b in a)if(a[b]<3)return!1;return!0},a.prototype.GetLastTurn=function(){return 0===this.TurnStack.length?null:this.TurnStack[this.TurnStack.length-1]},a.prototype.GetTally=function(){for(var a={},b=0;10>b;b++)a[b]=0;for(var c in this.TurnStack){var d=0;for(var e in this.TurnStack[c].Marks)d+=this.TurnStack[c].Marks[e];a[d]+=1}return a},a}(),DartBot={},Hit=function(){"use strict";function a(a,b,c){this.SectorIndex=a,this.Ring=b,this.Point=c||Board.GetTargetPoint(a,b)}return a.prototype.IsDouble=function(){return this.Ring===RingType.Double||this.Ring===RingType.DoubleBull},a.prototype.toString=function(){if(this.Ring===RingType.DoubleBull)return"DB";if(this.Ring===RingType.SingleBull)return"SB";if(this.Ring===RingType.OOB)return"OOB";var a=[];a[RingType.ThinSingle]="S",a[RingType.Treble]="T",a[RingType.FatSingle]="S",a[RingType.Double]="D";var b=a[this.Ring];return b+=Board.GetSectorValue(this.SectorIndex)},a.prototype.equals=function(a){return this.Ring!==a.Ring?!1:this.Ring===RingType.DoubleBull?!0:this.Ring===RingType.SingleBull?!0:this.Ring===RingType.OOB?!0:this.SectorIndex===a.SectorIndex},a}(),PolarPoint=function(){"use strict";function a(a,b){this.Radius=a,this.Angle=b}return a.GetCartesian=function(b){return{X:a.GetCartesianX(b),Y:a.GetCartesianY(b)}},a.GetCartesianX=function(a){return a.Radius*Math.cos(a.Angle)},a.GetCartesianY=function(a){return a.Radius*Math.sin(a.Angle)},a.GetFromCartesian=function(b,c){var d=Math.sqrt(b*b+c*c),e=Math.atan2(c,b);return 0>d&&(d=Math.abs(d),e+=Math.PI),0>e&&(e+=2*Math.PI),new a(d,e)},a.AddPoints=function(b,c){var d=a.GetCartesianX(c),e=a.GetCartesianY(c),f=a.GetCartesianX(b),g=a.GetCartesianY(b),h=f+d,i=g+e;return a.GetFromCartesian(h,i)},a}(),Random=function(){function a(){}return a.GetUniform=function(){return Math.random()},a.GetNormal=function(b,c){var d=a.GetUniform(),e=a.GetUniform(),f=Math.sqrt(-2*Math.log(d)),g=2*Math.PI*e,h=f*Math.sin(g);return h=b+c*h},a.GetLognormal=function(b,c){var d=a.GetNormal(b,c),e=Math.exp(d);return e},a}(),UserPlayer=function(){function a(a){this.Name=a}return a.prototype.TakeTurn=function(){},a}(),DummyPlayer=function(){function a(){}return a.prototype.TakeTurn=function(a){a.EndTurn(this)},a}(),X01Bot=function(){"use strict";function a(a,b,c,d){this.Mean=a,this.Stdev=b,this.Name=c,this.MaxThrows=d||100}return a.Delay=0,a.Players=[{name:"User Player"},{name:"Level 1",mean:11,stdev:12,max:13},{name:"Level 2",mean:15.5,stdev:6.5,max:16},{name:"Level 3",mean:16,stdev:6.5,max:21},{name:"Level 4",mean:23.5,stdev:12,max:24},{name:"Level 5",mean:24.5,stdev:9.5,max:28},{name:"Level 6",mean:46,stdev:17,max:38},{name:"Level 7",mean:48,stdev:16.5,max:47}],a.Targets=[[1,1],[1,1],[1,2],[1,1],[2,2],[1,1],[3,2],[3,1],[4,2],[1,1],[5,2],[3,1],[6,2],[1,1],[7,2],[3,1],[8,2],[1,1],[9,2],[3,1],[10,2],[5,1],[11,2],[7,1],[12,2],[9,1],[13,2],[11,1],[14,2],[13,1],[15,2],[15,1],[16,2],[17,1],[17,2],[3,1],[18,2],[5,1],[19,2],[7,1],[20,2],[9,1],[10,1],[11,1],[12,1],[13,1],[14,1],[15,1],[16,1],[17,1],[25,2],[19,1],[20,1],[13,1],[14,1],[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[15,3],[10,3],[13,3],[16,3],[15,3],[14,3],[17,3],[20,3],[19,3],[18,3],[13,3],[20,3],[19,3],[14,3],[15,3],[20,3],[15,3],[14,3],[13,3],[20,3],[19,3],[14,3],[17,3],[20,3],[15,3],[18,3],[17,3],[16,3],[19,3],[18,3],[17,3],[20,3],[19,3],[18,3],[15,3],[20,3],[19,3],[20,3],[19,3]],a.prototype.TakeTurn=function(b){var c=2*a.Delay,d=this,e=function(){a.Throw(d,b,3)};c>0?setTimeout(e,c):e()},a.Throw=function(b,c,d){var e=b.AcquireTarget(c),f=b.AttemptThrow(e),g=c.GetScore(b),h=b.GetMaxThrows(g.StartPoints);g.GetNumberDarts()>h&&(f=e);var i=a.ApplyHit(b,c,f);if(i===!1)return 3>d&&c.CancelTurn(b),c.ApplyPoints(b,0,3,!1),void c.EndTurn(b);var j=g.GetPointsLeft();if(0===j||0===--d)return void c.EndTurn(b);var k=a.Delay,l=function(){a.Throw(b,c,d)};k>0?setTimeout(l,k):l()},a.ApplyHit=function(a,b,c){var d=b.GetScore(a),e=d.GetIsDoubleIn(),f=Board.GetHitPoints(c);e===!1&&b.IsDoubleInRequired&&(c.IsDouble()?e=!0:f=0);var g=b.IsDoubleOutRequired,h=d.GetPointsLeft()-f;return 0>h?!1:1===h&&g?!1:0===h&&g&&c.IsDouble()===!1?!1:(b.ApplyPoints(a,f,1,e),!0)},a.prototype.AttemptThrow=function(a){var b=Board.GetTargetPoint(a.SectorIndex,a.Ring),c=Random.GetUniform()*Math.PI*2,d=Random.GetNormal(this.Mean,this.Stdev),e=new PolarPoint(d,c),f=PolarPoint.AddPoints(b,e);return Board.GetHit(f)},a.prototype.AcquireTarget=function(b){var c=a.Targets,d=b.GetScore(this),e=d.GetPointsLeft();if(!d.GetIsDoubleIn()&&b.IsDoubleInRequired)return new Hit(0,RingType.Double);if(e>c.length-1)return new Hit(0,RingType.Treble);var f=c[e][0],g=c[e][1];if(25===f&&1===g)return new Hit(0,RingType.SingleBull);if(25===f&&2===g)return new Hit(0,RingType.DoubleBull);var h,i=Board.GetSectorIndex(c[e][0]);if(1===g)h=RingType.FatSingle;else if(2===g)h=RingType.Double;else{if(3!==g)throw"Invalid ring multiplier["+g+"]";h=RingType.Treble}return new Hit(i,h)},a.prototype.GetMaxThrows=function(a){if(isNaN(a))throw"Game points is invalid";return Math.round(a/501*this.MaxThrows)},a}(),X01Game=function(){"use strict";function a(a,b,c,d,e){this.IsDoubleInRequired=b,this.IsDoubleOutRequired=c,this.Score1=new X01Score(a),this.Score2=new X01Score(a),this.Player1=d,this.Player2=e,this.PlayerToMove=1,this.StartingPlayer=this.PlayerToMove,this.GameUpdated=function(){},this.IsWon=!1,this.Winner=null}return a.prototype.EndTurn=function(a){if(this.GetScore(a).EndTurn(),console.log(this.GetScore(a).GetStats()),!this.IsWon){var b=this.GetPlayerNum(a);if(this.GetScore(a).IsScoreWon()&&(this.IsWon=!0,this.Winner=b,this.EndTime=new Date),this.GameUpdated(this),this.IsWon!==!0&&b===this.PlayerToMove){var c=b%2+1;if(this.PlayerToMove=c,this.GameUpdated(this),1===c)this.Player1.TakeTurn(this);else{if(2!==c)throw"Invalid Player";this.Player2.TakeTurn(this)}}}},a.prototype.GetScore=function(a){var b=this.GetPlayerNum(a);if(1===b)return this.Score1;if(2===b)return this.Score2;throw"Invalid Player"},a.prototype.GetPlayerNum=function(a){if(a===this.Player1)return 1;if(a===this.Player2)return 2;throw"Invalid Player"},a.prototype.Start=function(){if(this.StartTime=new Date,this.GameUpdated(this),this.StartingPlayer=this.PlayerToMove,1===this.PlayerToMove)this.Player1.TakeTurn(this);else{if(2!==this.PlayerToMove)throw"PlayerToMove is invalid";this.Player2.TakeTurn(this)}},a.prototype.ApplyPoints=function(a,b,c,d){var e=this.GetScore(a);e.ApplyPoints(b,c,d),this.GameUpdated(this)},a.prototype.CancelTurn=function(a){var b=this.GetScore(a);b.CancelTurn();var c=this.GetPlayerNum(a);this.IsWon&&this.Winner===c&&(this.IsWon=!1,this.Winner=null,b.IsScoreWon()&&(this.IsWon=!0,this.Winner=c)),this.GameUpdated(this)},a.prototype.SetDartsLastTurn=function(a,b){var c=this.GetScore(a),d=c.GetLastTurn();d.Darts=b,this.GameUpdated(this)},a}(),X01Score=function(){function a(a){this.StartPoints=a,this.TurnStack=[],this.DartsInRound=3,this.IsTurnStarted=!1}return a.prototype.ApplyPoints=function(a,b,c){if(this.GetPointsLeft()<a)throw"Points exceed points remaining";if(this.GetPointsLeft()<=0)throw"Cannot apply points. Score is 0";this.IsTurnStarted===!1&&(this.TurnStack.push({Points:0,Darts:0,IsDoubleIn:!1}),this.IsTurnStarted=!0);var d=this.TurnStack[this.TurnStack.length-1];d.Darts+=b,d.Points+=a,d.IsDoubleIn|=c},a.prototype.EndTurn=function(){this.IsTurnStarted=!1},a.prototype.CancelTurn=function(){this.TurnStack.pop(),this.IsTurnStarted=!1},a.prototype.GetPointsHit=function(){for(var a=0,b=0;b<this.TurnStack.length;b++)a+=this.TurnStack[b].Points;return a},a.prototype.GetIsDoubleIn=function(){for(var a=0;a<this.TurnStack.length;a++)if(this.TurnStack[a].IsDoubleIn)return!0;return!1},a.prototype.GetPointsLeft=function(){return this.StartPoints-this.GetPointsHit()},a.prototype.GetNumberDarts=function(){for(var a=0,b=0;b<this.TurnStack.length;b++)a+=this.TurnStack[b].Darts;return a},a.prototype.GetPointsLastTurn=function(){var a=this.GetLastTurn();return null===a?0:a.Points},a.prototype.GetPointsPerRound=function(){if(0===this.GetNumberDarts())return 0;var a=this.GetPointsHit()/this.GetNumberDarts();return a*this.DartsInRound},a.prototype.IsScoreWon=function(){return 0===this.GetPointsLeft()},a.prototype.GetLastTurn=function(){return 0===this.TurnStack.length?null:this.TurnStack[this.TurnStack.length-1]},a.prototype.IsAnOut=function(a){var b=[169,168,166,165,163,162,159];if(a>170)return!1;for(var c=0;c<b.length;c++)if(a===b[c])return!1;return!0},a.prototype.GetStats=function(){for(var a={WonGame:!1,StartedGame:!1,Time:0,Tally:{},NumberOfTurns:0,StartPoints:0,DartsThrown:0,PointsScored:0,PointsRemaining:0,OneDartAverage:0,ThreeDartAverage:0,TurnsWithAnOut:0,HighestRound:0},b=[180,140,100,60],c=0;c<b.length;c++)a.Tally[b[c]]=0;a.StartPoints=this.StartPoints;for(var d=0;d<this.TurnStack.length;d++){var e=this.TurnStack[d];a.NumberOfTurns+=1,this.IsAnOut(a.StartPoints-a.PointsScored)&&(a.TurnsWithAnOut+=1),a.PointsScored+=e.Points,a.DartsThrown+=e.Darts,e.Points>a.HighestRound&&(a.HighestRound=e.Points);var f=this.TurnStack[d].Points;for(var g in b)if(f>=b[g]){a.Tally[b[g]]+=1;break}}return a.PointsRemaining=a.StartPoints-a.PointsScored,a.OneDartAverage=a.PointsScored/a.DartsThrown||0,a.ThreeDartAverage=3*a.OneDartAverage||0,a},a}();!function(a,b,c,d,e,f,g){function h(a){var b,d,e=this,f=a.length,g=0,h=e.i=e.j=e.m=0;for(e.S=[],e.c=[],f||(a=[f++]);c>g;)e.S[g]=g++;for(g=0;c>g;g++)b=e.S[g],h=k(h+b+a[g%f]),d=e.S[h],e.S[g]=d,e.S[h]=b;e.g=function(a){var b=e.S,d=k(e.i+1),f=b[d],g=k(e.j+f),h=b[g];b[d]=h,b[g]=f;for(var i=b[k(f+h)];--a;)d=k(d+1),f=b[d],g=k(g+f),h=b[g],b[d]=h,b[g]=f,i=i*c+b[k(f+h)];return e.i=d,e.j=g,i},e.g(c)}function i(a,b,c,d,e){if(c=[],e=typeof a,b&&"object"==e)for(d in a)if(d.indexOf("S")<5)try{c.push(i(a[d],b-1))}catch(f){}return c.length?c:a+("string"!=e?"\x00":"")}function j(a,b,c,d){for(a+="",c=0,d=0;d<a.length;d++)b[k(d)]=k((c^=19*b[k(d)])+a.charCodeAt(d));a="";for(d in b)a+=String.fromCharCode(b[d]);return a}function k(a){return a&c-1}b.seedrandom=function(k,l){var m,n=[];return k=j(i(l?[k,a]:arguments.length?k:[(new Date).getTime(),a,window],3),n),m=new h(n),j(m.S,a),b.random=function(){for(var a=m.g(d),b=g,h=0;e>a;)a=(a+h)*c,b*=c,h=m.g(1);for(;a>=f;)a/=2,b/=2,h>>>=1;return(a+h)/b},k},g=b.pow(c,d),e=b.pow(2,e),f=2*e,j(b.random(),a)}([],Math,256,6,52);